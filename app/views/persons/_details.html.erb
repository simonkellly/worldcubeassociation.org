<% if @enable_react %>
  <%= react_component("Persons/Details", {
    person: {
      name: @person.name,
      gender: @person.gender_visible? ? @person.gender : nil,
      country: {
        name: @person.country.name,
        iso2: @person.country_iso2,
      },
      wcaId: @person.wca_id,
      competitionCount: @person.competitions.count,
      completedSolves: @person.completed_solves_count,
      user: @person.user,
      previousPersons: @previous_persons.map { |person| {
        name: person.name,
        country: person.country.name,
      }},
    },
    canEditUser: current_user&.can_edit_user?(@person.user),
    editUrl: edit_user_path(@person.user),
  }) %>
<% else %>
  <%= render "details_legacy" %>
<% end %>
